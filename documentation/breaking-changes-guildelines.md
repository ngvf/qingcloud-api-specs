# QingCloud REST API version change guide

## Overview
本规范的作用是，当修改或审查api时，对开发人员提供指导。

## Breaking Changes
影响 API 向后兼容的修改称为 breaking changes（重点更改）。团队提交任何 breaking changes，需要考虑兼容性问题，或者升级 api-version 以提示使用者进行更新。 

### 现有参数被删除或重命名
一个参数在 api-v1 中被命名为 “foo” ，而在 api-v2 中需要删除该参数或者重命名为 “bar”，则必须提升 api-version， 因为会对使用者造成比较大的影响。

### 参数类型变化
例如参数 “foo” 在 api-v1 中为 bool 类型，api-v2 中改成了 string 类型，此时客户端在请求是仍然将“foo”设置为 bool 类型，会导致服务端读取解析失败。所以必须提升 api-version。

### 参数可选值变化
枚举参数 “foo” 在 api-v1 中只有 “val1” 和 “val2” 的可选项。如果在 api-v2 中，参数 “foo” 的可选值添加一个 “val3”，那么客户端在解析 Response 时，针对 “val1” 会解析或反序列化失败。

### API 被删除或者重命名
API 在被删除后重名之后，客户端调用则会失败

### 参数变成了必填项或新添必填参数
"foo" 在 api-v1 中为可选参数，而在 api-v2 改成了必填项，那么之前的请求就很可能参数校验失败。

### URL 格式变化
URL 的参数格式化变化后，会影响代码的生成。

### 返回值中添加新参数
如果在返回值中添加新的参数，那么在 SDK 中调用后会无法解析或者参数忽略，如果再将返回值 PUT 到服务器上，将会覆盖库中正确的值。

### 命名规则改变
如果改变命令规则（规律）后，之前使用该名称规则来进行本地验证的客户端，会执行失败。

